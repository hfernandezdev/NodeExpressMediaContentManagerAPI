{"openapi":"3.0.0","info":{"title":"Media Content Manager API","version":"1.0.0","description":"API para gestionar contenido multimedia accesible según los tipos de usuarios."},"servers":[{"url":"http://localhost:3000","description":"Servidor de desarrollo"}],"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"security":[{"bearerAuth":[]}],"paths":{"/api/auth/register":{"post":{"summary":"Registrar un nuevo usuario","tags":["Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","example":"usuario123"},"email":{"type":"string","example":"usuario@example.com"},"password":{"type":"string","example":"password123"},"role":{"type":"string","example":"lector"}}}}}},"responses":{"201":{"description":"Usuario registrado con éxito"},"400":{"description":"Nombre de usuario o correo ya existen"},"500":{"description":"Error del servidor"}}}},"/api/auth/login":{"post":{"summary":"Autenticar un usuario","tags":["Auth"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","example":"usuario123"},"password":{"type":"string","example":"password123"}}}}}},"responses":{"200":{"description":"Autenticación exitosa, retorna un token JWT","content":{"application/json":{"schema":{"type":"object","properties":{"accessToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."}}}}}},"400":{"description":"Usuario o contraseña incorrectos"},"500":{"description":"Error del servidor"}}}},"/api/categories":{"post":{"summary":"Crear una nueva categoría","tags":["Categories"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Imágenes"},"description":{"type":"string","example":"Categoría de imágenes"},"cover_image":{"type":"string","example":"/path/to/cover_image.jpg"}}}}}},"responses":{"201":{"description":"Categoría creada con éxito"},"400":{"description":"Datos inválidos"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"500":{"description":"Error del servidor"}}},"get":{"summary":"Obtener todas las categorías","tags":["Categories"],"responses":{"200":{"description":"Lista de categorías","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"name":{"type":"string","example":"Imágenes"},"description":{"type":"string","example":"Categoría de imágenes"},"cover_image":{"type":"string","example":"/path/to/cover_image.jpg"}}}}}}},"401":{"description":"Token no proporcionado"},"403":{"description":"Token inválido o expirado"}}}},"/api/categories/{id}":{"get":{"summary":"Obtener información de una categoría por ID","tags":["Categories"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID de la categoría"}],"responses":{"200":{"description":"Información de la categoría","content":{"application/json":{"schema":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"name":{"type":"string","example":"Imágenes"},"description":{"type":"string","example":"Categoría para contenido de imágenes"},"cover_image":{"type":"string","example":"https://example.com/cover_image.jpg"},"created_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"},"updated_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"}}}}}},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Categoría no encontrada"}}},"put":{"summary":"Actualizar una categoría existente","tags":["Categories"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID de la categoría"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Imágenes"},"description":{"type":"string","example":"Categoría de imágenes actualizada"},"cover_image":{"type":"string","example":"/path/to/cover_image_updated.jpg"}}}}}},"responses":{"200":{"description":"Categoría actualizada con éxito"},"400":{"description":"Datos inválidos"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Categoría no encontrada"},"500":{"description":"Error del servidor"}}},"delete":{"summary":"Eliminar una categoría existente","tags":["Categories"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID de la categoría"}],"responses":{"200":{"description":"Categoría eliminada con éxito"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Categoría no encontrada"},"500":{"description":"Error del servidor"}}}},"/api/contents":{"post":{"summary":"Crear un nuevo contenido","tags":["Contents"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","example":"Título del contenido"},"description":{"type":"string","example":"Descripción del contenido"},"category_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"theme_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"type":{"type":"string","example":"image"},"url":{"type":"string","example":"http://example.com/path/to/content"}}}}}},"responses":{"201":{"description":"Contenido creado con éxito"},"400":{"description":"Datos inválidos"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"500":{"description":"Error del servidor"}}},"get":{"summary":"Obtener todos los contenidos","tags":["Contents"],"responses":{"200":{"description":"Lista de contenidos","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"title":{"type":"string","example":"Título del contenido"},"description":{"type":"string","example":"Descripción del contenido"},"category_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"theme_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"type":{"type":"string","example":"image"},"url":{"type":"string","example":"http://example.com/path/to/content"},"created_by":{"type":"string","example":"60d0fe4f5311236168a109cb"},"created_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"},"updated_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"}}}}}}},"401":{"description":"Token no proporcionado"},"403":{"description":"Token inválido o expirado"}}}},"/api/content/{id}":{"get":{"summary":"Obtener información de un contenido por ID","tags":["Content"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID del contenido"}],"responses":{"200":{"description":"Información del contenido","content":{"application/json":{"schema":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"title":{"type":"string","example":"Introducción a la Física"},"description":{"type":"string","example":"Contenido multimedia sobre la introducción a la física."},"category_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"theme_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"type":{"type":"string","enum":["image","video","text"],"example":"video"},"url":{"type":"string","example":"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},"created_by":{"type":"string","example":"60d0fe4f5311236168a109cb"},"created_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"},"updated_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"}}}}}},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Contenido no encontrado"}}}},"/api/contents/{id}":{"put":{"summary":"Actualizar un contenido existente","tags":["Contents"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID del contenido"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string","example":"Título del contenido"},"description":{"type":"string","example":"Descripción del contenido"},"category_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"theme_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"type":{"type":"string","example":"image"},"url":{"type":"string","example":"http://example.com/path/to/content"}}}}}},"responses":{"200":{"description":"Contenido actualizado con éxito"},"400":{"description":"Datos inválidos"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Contenido no encontrado"},"500":{"description":"Error del servidor"}}},"delete":{"summary":"Eliminar un contenido existente","tags":["Contents"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID del contenido"}],"responses":{"200":{"description":"Contenido eliminado con éxito"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Contenido no encontrado"},"500":{"description":"Error del servidor"}}}},"/api/themes":{"post":{"summary":"Crear una nueva temática","tags":["Themes"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Ciencias"},"allowed_content":{"type":"object","properties":{"images":{"type":"boolean","example":true},"videos":{"type":"boolean","example":false},"texts":{"type":"boolean","example":true}}}}}}}},"responses":{"201":{"description":"Temática creada con éxito"},"400":{"description":"Datos inválidos"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"500":{"description":"Error del servidor"}}},"get":{"summary":"Obtener todas las temáticas","tags":["Themes"],"responses":{"200":{"description":"Lista de temáticas","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"name":{"type":"string","example":"Ciencias"},"allowed_content":{"type":"object","properties":{"images":{"type":"boolean","example":true},"videos":{"type":"boolean","example":false},"texts":{"type":"boolean","example":true}}}}}}}}},"401":{"description":"Token no proporcionado"},"403":{"description":"Token inválido o expirado"}}}},"/api/themes/{id}":{"get":{"summary":"Obtener información de una temática por ID","tags":["Themes"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID de la temática"}],"responses":{"200":{"description":"Información de la temática","content":{"application/json":{"schema":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"name":{"type":"string","example":"Ciencias"},"allowed_content":{"type":"object","properties":{"images":{"type":"boolean","example":true},"videos":{"type":"boolean","example":false},"texts":{"type":"boolean","example":true}}},"created_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"},"updated_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"}}}}}},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Temática no encontrada"}}},"put":{"summary":"Actualizar una temática existente","tags":["Themes"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID de la temática"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","example":"Ciencias"},"allowed_content":{"type":"object","properties":{"images":{"type":"boolean","example":true},"videos":{"type":"boolean","example":true},"texts":{"type":"boolean","example":true}}}}}}}},"responses":{"200":{"description":"Temática actualizada con éxito"},"400":{"description":"Datos inválidos"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Temática no encontrada"},"500":{"description":"Error del servidor"}}},"delete":{"summary":"Eliminar una temática existente","tags":["Themes"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID de la temática"}],"responses":{"200":{"description":"Temática eliminada con éxito"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Temática no encontrada"},"500":{"description":"Error del servidor"}}}},"/api/users":{"post":{"summary":"Crear un nuevo usuario","tags":["Users"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","example":"usuario123"},"email":{"type":"string","example":"usuario@example.com"},"password":{"type":"string","example":"password123"},"role":{"type":"string","enum":["lector","creador","admin"],"example":"lector"}}}}}},"responses":{"201":{"description":"Usuario creado con éxito"},"400":{"description":"Datos inválidos"},"409":{"description":"El nombre de usuario o el correo electrónico ya están en uso"},"500":{"description":"Error del servidor"}}},"get":{"summary":"Obtener la lista de todos los usuarios","tags":["Users"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Lista de usuarios","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"username":{"type":"string","example":"usuario123"},"email":{"type":"string","example":"usuario@example.com"},"role":{"type":"string","example":"lector"},"created_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"},"updated_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"}}}}}}},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"}}}},"/api/users/{id}":{"get":{"summary":"Obtener información de un usuario por ID","tags":["Users"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID del usuario"}],"responses":{"200":{"description":"Información del usuario","content":{"application/json":{"schema":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"username":{"type":"string","example":"usuario123"},"email":{"type":"string","example":"usuario@example.com"},"role":{"type":"string","example":"lector"},"created_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"},"updated_at":{"type":"string","example":"2022-01-01T00:00:00.000Z"}}}}}},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Usuario no encontrado"}}},"put":{"summary":"Actualizar un usuario por ID","tags":["Users"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID del usuario"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","example":"usuario123"},"email":{"type":"string","example":"usuario@example.com"},"role":{"type":"string","enum":["lector","creador"],"example":"lector"}}}}}},"responses":{"200":{"description":"Usuario actualizado con éxito"},"400":{"description":"Datos inválidos"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Usuario no encontrado"},"500":{"description":"Error del servidor"}}},"delete":{"summary":"Eliminar un usuario por ID","tags":["Users"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID del usuario"}],"responses":{"200":{"description":"Usuario eliminado con éxito"},"401":{"description":"Token no proporcionado"},"403":{"description":"No tienes permisos para esta acción"},"404":{"description":"Usuario no encontrado"},"500":{"description":"Error del servidor"}}}}},"tags":[{"name":"Auth","description":"Gestión de autenticación de usuarios"},{"name":"Categories","description":"Gestión de categorías de contenido"},{"name":"Contents","description":"Gestión de contenidos multimedia"},{"name":"Themes","description":"Gestión de temáticas de contenido"},{"name":"Users","description":"Gestión de usuarios"}]}